## Enterprise Web Development module - Serverless REST Assignment.

__Name:__ Veera

__Demo:__ ... link to your YouTube video demonstration ......

### Overview.

This repository contains the AWS CDK infrastructure code for a Movie Reviews API, which allows users to authenticate using Amazon Cognito, submit movie reviews, update reviews, retrieve translations of reviews using AWS Translate, and store them in Amazon DynamoDB. The API is secured using API Gateway with Cognito Authorizer, and Lambda functions are used to process API requests.

### App API endpoints.

GET /movies – Retrieves a list of movies.

POST /movies/reviews – Allows an authenticated user to submit a movie review.

PUT /movies/{movieId}/reviews/{reviewId} – Allows an authenticated user to update their review.

GET /reviews/{reviewId}/{movieId}/translation – Retrieves the translated version of a review.

### Features.

#### Translation persistence (if completed)

The translations are stored within the DynamoDB table under a Translations field in each review entry. The structure of a stored review item is:

MovieId (Partition key) – Number

ReviewId – Number (Autogenerated)

ReviewerId – String (reviewer email address)

ReviewDate – String (e.g., “2025-01-20”) (Updatable)

Content – String (Review text) (Updatable)

Translations – A JSON object storing translations in multiple languages

{ "fr": "translated review in French", "es": "translated review in Spanish" }

#### Custom L2 Construct (if completed)

This part is Created in AWS Console but not connected due to permission Issues.


#### Restricted review updates (if completed)

The API ensures that only the original author of a review can update it. This is enforced through:

Cognito User Identity – The Lambda function extracts the authenticated user’s email.

DynamoDB Condition Expression – Before updating a review, the function checks if the ReviewerId matches the requester’s email.

API Gateway Authorization – Only authenticated users with valid tokens can access the update endpoint.



#### API Gateway validators. (if completed)

API Gateway Validators are used to enforce input validation on certain endpoints. For example, the POST /movies/reviews endpoint ensures that required parameters are present before invoking the Lambda function.

const requestValidator = new apigateway.RequestValidator(this, "RequestValidator", {
  restApi: api,
  validateRequestBody: true,
  validateRequestParameters: true,
});

reviewsResource.addMethod(
  "POST",
  new apigateway.LambdaIntegration(postReviewLambda),
  {
    authorizationType: apigateway.AuthorizationType.COGNITO,
    authorizer,
    requestValidator,
    requestModels: {
      "application/json": reviewModel,  // Schema validation
    },
  }
);






